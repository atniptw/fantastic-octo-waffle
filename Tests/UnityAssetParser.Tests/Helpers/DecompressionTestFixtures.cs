using System.Text;

namespace UnityAssetParser.Tests.Helpers;

/// <summary>
/// Provides test fixture data for decompression tests.
/// Test vectors generated using Python lzma and lz4 libraries.
/// </summary>
public static class DecompressionTestFixtures
{
    /// <summary>
    /// Original "HelloWorld" text (10 bytes)
    /// </summary>
    public static readonly byte[] HelloWorldBytes = Encoding.UTF8.GetBytes("HelloWorld");

    /// <summary>
    /// LZMA-compressed "HelloWorld" with 1MB dictionary (Unity format: 5-byte header only)
    /// Generated by removing uncompressed size field from LZMA ALONE format
    /// Properties: 0x5D (lc=0, lp=2, pb=3), Dict size: 0x00100000 (1MB)
    /// </summary>
    public static readonly byte[] LzmaHelloWorld = [
        0x5D, 0x00, 0x00, 0x10, 0x00, // LZMA properties (5 bytes: 1 byte props + 4 bytes dict size)
        0x00, 0x24, 0x19, 0x49, 0x86, 0xE7, 0xD7, 0x83,
        0xA3, 0x82, 0xA6, 0xDB, 0xD0, 0x3D, 0x90, 0xFF,
        0xFF, 0x78, 0xA4, 0x00, 0x00
    ];

    /// <summary>
    /// LZ4-compressed "HelloWorld" (raw block format, no frame)
    /// Generated with: lz4.block.compress(b"HelloWorld", store_size=False)
    /// </summary>
    public static readonly byte[] Lz4HelloWorld = [
        0xA0, 0x48, 0x65, 0x6C, 0x6C, 0x6F, 0x57, 0x6F,
        0x72, 0x6C, 0x64
    ];

    /// <summary>
    /// A longer test string for more complex compression scenarios (100 bytes)
    /// </summary>
    public static readonly byte[] LongTestBytes = Encoding.UTF8.GetBytes(
        "The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog again!"
    );

    /// <summary>
    /// LZMA-compressed version of LongTestBytes (Unity format: 5-byte header only)
    /// Generated by removing uncompressed size field from LZMA ALONE format
    /// </summary>
    public static readonly byte[] LzmaLongTest = [
        0x5D, 0x00, 0x00, 0x10, 0x00, // LZMA properties
        0x00, 0x2A, 0x1A, 0x08, 0xA2, 0x03, 0x25, 0x66,
        0xF1, 0x4B, 0x78, 0xC5, 0xA2, 0x05, 0xFF, 0x2E,
        0xE6, 0xD9, 0xD2, 0x20, 0x1A, 0xAD, 0x34, 0xF8,
        0xE2, 0x1D, 0xE8, 0x41, 0x36, 0xFA, 0xDC, 0x06,
        0x69, 0xBB, 0x3C, 0xE4, 0x10, 0x34, 0x27, 0x09,
        0xEB, 0xB3, 0x66, 0xE3, 0xED, 0x37, 0x4A, 0xFA,
        0x3E, 0xC0, 0x54, 0x5C, 0xB4, 0xA7, 0x77, 0x8F,
        0xB7, 0xF5, 0xFF, 0xFF, 0xBD, 0x42, 0x00, 0x00
    ];

    /// <summary>
    /// LZ4-compressed version of LongTestBytes
    /// Generated with: lz4.block.compress(b"The quick brown fox...", store_size=False)
    /// </summary>
    public static readonly byte[] Lz4LongTest = [
        0xFF, 0x1E, 0x54, 0x68, 0x65, 0x20, 0x71, 0x75,
        0x69, 0x63, 0x6B, 0x20, 0x62, 0x72, 0x6F, 0x77,
        0x6E, 0x20, 0x66, 0x6F, 0x78, 0x20, 0x6A, 0x75,
        0x6D, 0x70, 0x73, 0x20, 0x6F, 0x76, 0x65, 0x72,
        0x20, 0x74, 0x68, 0x65, 0x20, 0x6C, 0x61, 0x7A,
        0x79, 0x20, 0x64, 0x6F, 0x67, 0x2E, 0x20, 0x2D,
        0x00, 0x18, 0x70, 0x20, 0x61, 0x67, 0x61, 0x69,
        0x6E, 0x21
    ];
}
